<!DOCTYPE html>
<html>
<head>
<title></title>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="../../../css/w3.css">
<link rel="stylesheet" type="text/css" href="../../../css/user.css">
<script type="text/javascript">
    var txt = location.href;
    var data = location.search.substring(1);
    /*
    alert(data.indexOf('&'));
    document.write('<h4 class="w3-center">href : ' + txt + '</h4>');
    document.write('<h4 class="w3-center">host : ' + location.host + '</h4>');
    document.write('<h4 class="w3-center">hostname : ' + location.hostname + '</h4>');
    document.write('<h4 class="w3-center">search : ' + location.search.substring(1) + '</h4>');
    document.write('<h4 class="w3-center">protocol : ' + location.protocol + '</h4>');
    document.write('<h4 class="w3-center">pathname : ' + location.pathname + '</h4>');
    document.write('<h4 class="w3-center">port : ' + location.port + '</h4>');
    */
</script>
</head>
<body>
    <div class="w3-content mxw650">
        <h1 class="w3-blue w3-center w3-padding w3-card-4">파라미터 꺼내기</h1>
        <div class="w3-col w3-padding w3-card-4" style="background-color: #eff8fc;" id="fr">
            <div class="w3-col">
                <h3 class="w3-col m4 w3-right-align pdr10" id="lbl1"></h3>
                <h3 class="w3-col m7 w3-center" id="id"></h3>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var tmp = data;
        
        function getTag(k, v){
            var s = '<div class="w3-col">';
            s += '<h3 class="w3-col m4 w3-right-align pdr10">' + k + ' : </h3>';
            s += '    <h3 class="w3-col m7 w3-center">' + v + '</h3>';
            s += '</div>';

            return s;
        }
        /*
        // 1. 반복문으로 처리하는 방법

        while(tmp.indexOf('&') != -1){
            var idx1 = tmp.indexOf('&');
            var pre = tmp.substring(0, idx1);

            var idx2 = pre.indexOf('=');
            var key = pre.substring(0, idx2);
            var value = pre.substring(idx2 + 1);

            var tag = getTag(key, value);
            
            tmp = tmp.substring(idx1 + 1);
            if(tmp.indexOf('&') == -1){
                idx2 = tmp.indexOf('=');
                key = tmp.substring(0, idx2);
                value = tmp.substring(idx2 + 1);

                tag += getTag(key, value);
            }
            document.getElementById('fr').innerHTML += tag;
        }
        */

        // 2. split()를 이용해서 처리하는 방법
        var arr = data.split('&');
        var tag = '';
        for(var i = 0 ; i < arr.length ; i++ ){
            var idx = arr[i].indexOf('=');
            var key = arr[i].substring(0, idx);
            var value = arr[i].substring(idx + 1);

            tag += getTag(key, value);
        }

        document.getElementById('fr').innerHTML = tag;
    </script>
</body>
</html>